<!-- password.component.html -->
<mat-card class="password-card">
  <form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
    <mat-form-field class="full-width">
      <mat-label>Old Password</mat-label>
      <input matInput [type]="hideOldPassword ? 'password' : 'text'" formControlName="oldPassword">
      <button mat-icon-button matSuffix (click)="hideOldPassword = !hideOldPassword" [attr.aria-label]="'Hide old password'" [attr.aria-pressed]="hideOldPassword">
        <mat-icon>{{hideOldPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <mat-error *ngIf="passwordForm.get('oldPassword')?.hasError('required')">
        Old password is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>New Password</mat-label>
      <input matInput [type]="hideNewPassword ? 'password' : 'text'" formControlName="newPassword">
      <button mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword" [attr.aria-label]="'Hide new password'" [attr.aria-pressed]="hideNewPassword">
        <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <mat-error *ngIf="passwordForm.get('newPassword')?.hasError('required')">
        New password is required
      </mat-error>
      <mat-error *ngIf="passwordForm.get('newPassword')?.hasError('minlength')">
        New password must be at least 6 characters long
      </mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit" [disabled]="passwordForm.invalid">Change Password</button>
  </form>
</mat-card>
